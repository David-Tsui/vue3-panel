(function(e){function t(t){for(var i,l,c=t[0],a=t[1],r=t[2],u=0,f=[];u<c.length;u++)l=c[u],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&f.push(o[l][0]),o[l]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);d&&d(t);while(f.length)f.shift()();return s.push.apply(s,r||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(i=!1)}i&&(s.splice(t--,1),e=l(l.s=n[0]))}return e}var i={},o={app:0},s=[];function l(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=i,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)l.d(n,i,function(t){return e[t]}.bind(null,i));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/vue3-panel/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var r=0;r<c.length;r++)t(c[r]);var d=a;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"337f":function(e,t,n){"use strict";n("390c")},"390c":function(e,t,n){},"3a9a":function(e,t,n){},"50ce":function(e,t,n){},"5bd5":function(e,t,n){},"5c39":function(e,t,n){},"6c40":function(e,t,n){"use strict";n("3a9a")},"7ca5":function(e,t,n){},af67:function(e,t,n){"use strict";n("5c39")},b8f9:function(e,t,n){"use strict";n("5bd5")},c97e:function(e,t,n){"use strict";n("7ca5")},cd49:function(e,t,n){"use strict";n.r(t);var i=n("7a23");function o(e,t,n,o,s,l){const c=Object(i["q"])("Test"),a=Object(i["q"])("Panel");return Object(i["j"])(),Object(i["d"])(i["a"],null,[Object(i["e"])("button",{onClick:t[1]||(t[1]=(...t)=>e.AddPanel&&e.AddPanel(...t))},"add panel"),Object(i["e"])(c),(Object(i["j"])(!0),Object(i["d"])(i["a"],null,Object(i["o"])(e.panels,t=>(Object(i["j"])(),Object(i["d"])(a,{key:t.id,config:t,onClose:n=>e.handleClose(t.id)},{default:Object(i["t"])(()=>[Object(i["e"])(c)]),_:2},1032,["config","onClose"]))),128))],64)}const s=Object(i["v"])("data-v-06659518");Object(i["l"])("data-v-06659518");const l=Object(i["e"])("div",{class:"title"},"header title",-1),c={class:"toolbar"},a=Object(i["e"])("div",{class:"i mdi-window-minimize"},null,-1),r=Object(i["e"])("div",{class:"i mdi-window-restore"},null,-1),d=Object(i["e"])("div",{class:"i mdi-window-maximize"},null,-1),u=Object(i["e"])("div",{class:"i mdi-window-close"},null,-1),f={class:"panel-content"},p=Object(i["e"])("div",{class:"title"},"header title",-1),h={class:"toolbar"},b=Object(i["e"])("div",{class:"i mdi-window-restore"},null,-1),m=Object(i["e"])("div",{class:"i mdi-window-maximize"},null,-1),v=Object(i["e"])("div",{class:"i mdi-window-close"},null,-1);Object(i["k"])();const j=s((e,t,n,o,j,O)=>{const z=Object(i["q"])("MinimizePanel");return Object(i["j"])(),Object(i["d"])(i["a"],null,[(Object(i["j"])(),Object(i["d"])(i["b"],{to:"body"},[Object(i["u"])(Object(i["e"])("div",{class:"panel",ref:"panelRef",onMousedown:t[6]||(t[6]=(...t)=>e.onPanelSelect&&e.onPanelSelect(...t))},[Object(i["e"])("div",{class:["panel-header",""+(e.isNormalized?"":"no-handler")],onMousedown:t[5]||(t[5]=(...t)=>e.onHeaderDown&&e.onHeaderDown(...t))},[l,Object(i["e"])("div",c,[Object(i["u"])(Object(i["e"])("div",{class:"controller minimize",onClick:t[1]||(t[1]=(...t)=>e.onMinimize&&e.onMinimize(...t))},[a],512),[[i["r"],!e.isMinimized]]),Object(i["u"])(Object(i["e"])("div",{class:"controller normalize",onClick:t[2]||(t[2]=(...t)=>e.onNormalize&&e.onNormalize(...t))},[r],512),[[i["r"],!e.isNormalized]]),Object(i["u"])(Object(i["e"])("div",{class:"controller maximize",onClick:t[3]||(t[3]=(...t)=>e.onMaximize&&e.onMaximize(...t))},[d],512),[[i["r"],!e.isMaximized]]),Object(i["e"])("div",{class:"controller close",onClick:t[4]||(t[4]=(...t)=>e.onClose&&e.onClose(...t))},[u])])],34),Object(i["e"])("div",f,[Object(i["p"])(e.$slots,"default")]),(Object(i["j"])(!0),Object(i["d"])(i["a"],null,Object(i["o"])(e.handlers,t=>(Object(i["j"])(),Object(i["d"])("div",{class:["handler",`handler-${t} ${e.isNormalized?"":"no-handler"}`],key:t,onMousedown:n=>e.onHandlerDown(n,t)},null,42,["onMousedown"]))),128))],544),[[i["r"],!e.isMinimized]])])),(Object(i["j"])(),Object(i["d"])(i["b"],{to:"#panel-minimize-container"},[Object(i["u"])(Object(i["e"])(z,null,{default:s(()=>[Object(i["e"])("div",{class:["panel-header",""+(e.isNormalized?"":"no-handler")]},[p,Object(i["e"])("div",h,[Object(i["u"])(Object(i["e"])("div",{class:"controller normalize",onClick:t[7]||(t[7]=(...t)=>e.onNormalize&&e.onNormalize(...t))},[b],512),[[i["r"],!e.isNormalized]]),Object(i["u"])(Object(i["e"])("div",{class:"controller maximize",onClick:t[8]||(t[8]=(...t)=>e.onMaximize&&e.onMaximize(...t))},[m],512),[[i["r"],!e.isMaximized]]),Object(i["e"])("div",{class:"controller close",onClick:t[9]||(t[9]=(...t)=>e.onClose&&e.onClose(...t))},[v])])],2)]),_:1},512),[[i["r"],e.isMinimized]])]))],64)});var O=n("9ab4"),z=function(){function e(){this.map=new Map,this.zIndex=100}return e.useZIndexHelper=function(){return this.instance},e.prototype.update=function(e){this.map.set(e,this.zIndex++)},e.prototype.getIndex=function(e){var t=this.map.get(e);return t||this.zIndex},e.prototype.deleteFromMap=function(e){this.map.delete(e)},e.prototype.refreshZIndex=function(e){var t=this.map.get(e);t&&t!==this.zIndex-1&&(this.map.delete(e),this.update(e))},e.instance=new e,e}(),g=z,w=function(){function e(e,t){var n=this;this.el=e,this.size=t,this.isDragging=!1,this.isResizing=!1,this.status="normalized",this.containerWidth=0,this.containerHeight=0,this.diffX=0,this.diffY=0,this.tempPos={top:"0",left:"0"},this.originX=0,this.originY=0,this.originMouseX=0,this.originMouseY=0,this.resizeDirection="",this.tempSize={width:0,height:0},this.miniumSize={width:240,height:360},this.setZindex=function(){var e=n.zIndexHelper.getIndex(n.el);n.el.style.zIndex=e+""},this.setContainer=function(){var e=document.body,t=e.offsetWidth,i=e.offsetHeight;n.containerWidth=t,n.containerHeight=i},this.setMoveState=function(e){n.isDragging=!0,n.el.style.userSelect="none",n.setContainer();var t=n.el,i=t.offsetTop,o=t.offsetLeft,s=e.clientX,l=e.clientY;n.diffX=s-o,n.diffY=l-i},this.onHandlerDown=function(e,t){e.stopPropagation(),n.zIndexHelper.refreshZIndex(n.el),n.setZindex(),n.isResizing=!0,n.el.style.userSelect="none",n.originX=n.el.getBoundingClientRect().left,n.originY=n.el.getBoundingClientRect().top,n.originMouseX=e.pageX,n.originMouseY=e.pageY,n.resizeDirection=t},this.onPanelSelect=function(e){n.zIndexHelper.refreshZIndex(n.el),n.setZindex(),e.ctrlKey&&(n.el.style.cursor="move",n.setMoveState(e))},this.onHeaderDown=function(e){n.setMoveState(e)},this.handleDragging=function(e){var t=e.clientX,i=e.clientY,o=n.size,s=o.width,l=o.height,c=t-n.diffX,a=i-n.diffY,r=a+l,d=c+s;a<0&&(a=0),c<0&&(c=0),r>n.containerHeight&&(a=n.containerHeight-l),d>n.containerWidth&&(c=n.containerWidth-s),n.el.style.top=a+"px",n.el.style.left=c+"px",n.tempPos.top=n.el.style.top,n.tempPos.left=n.el.style.left},this.handleResizing=function(e){if(!n.positionOutOfWindow(e.pageX,e.pageY)){var t=e.pageX-n.originMouseX,i=e.pageY-n.originMouseY,o=!1,s=!1,l=n.size.width,c=n.size.height,a=Object(O["a"])(n.resizeDirection);a.forEach((function(e){switch(e){case"n":c-=i,o=!0;break;case"e":l+=t;break;case"w":l-=t,s=!0;break;case"s":c+=i;break;default:}})),l>n.miniumSize.width&&(n.tempSize.width=l,s&&(n.el.style.left=n.originX+t+"px")),c>n.miniumSize.height&&(n.tempSize.height=c,o&&(n.el.style.top=n.originY+i+"px")),n.tempPos.top=n.el.style.top,n.tempPos.left=n.el.style.left,n.setSize(n.tempSize)}},this.onMouseMove=function(e){n.isDragging?n.handleDragging(e):n.isResizing&&n.handleResizing(e)},this.onMouseUp=function(){n.isResizing&&(n.size.width=n.tempSize.width,n.size.height=n.tempSize.height),n.isDragging=!1,n.isResizing=!1,n.el.style.cursor="initial",n.el.style.userSelect="unset"},this.setListener=function(){document.addEventListener("mousemove",n.onMouseMove),document.addEventListener("mouseup",n.onMouseUp)},this.normalize=function(){var e=n.el.querySelector(".panel-content");e.style.display="block",n.status="normalized",n.zIndexHelper.refreshZIndex(n.el),n.setZindex();var t=n.tempPos,i=t.top,o=t.left;n.el.style.top=i,n.el.style.left=o,n.setSize(n.size)},this.minimize=function(){n.isDragging=!1,n.status="minimized"},this.maximize=function(){n.isDragging=!1,n.status="maximized";var e={width:n.containerWidth,height:n.containerHeight};n.setSize(e),n.el.style.top="0",n.el.style.left="0"},this.close=function(){document.removeEventListener("mousemove",n.onMouseMove),document.removeEventListener("mouseup",n.onMouseUp),n.zIndexHelper.deleteFromMap(n.el)},this.zIndexHelper=g.useZIndexHelper(),this.zIndexHelper.update(this.el),this.setZindex(),this.setSize(t),this.setContainer(),this.setListener()}return e.prototype.setSize=function(e){this.el.style.width=e.width+"px",this.el.style.height=e.height+"px"},e.prototype.positionOutOfWindow=function(e,t){var n=e<0||e>this.containerWidth,i=t<0||t>this.containerHeight;return n||i},e}(),y=w;const x=Object(i["v"])("data-v-3a0ce358");Object(i["l"])("data-v-3a0ce358");const M={class:"minimize-panel"};Object(i["k"])();const S=x((e,t,n,o,s,l)=>(Object(i["j"])(),Object(i["d"])("div",M,[Object(i["p"])(e.$slots,"default")])));var P=Object(i["f"])({name:"MinimizePanel"});n("b8f9");P.render=S,P.__scopeId="data-v-3a0ce358";var H=P,C=Object(i["f"])({name:"Panel",components:{MinimizePanel:H},props:{config:{type:Object}},emits:["close"],setup:function(e,t){var n,o=t.emit,s=Object(i["n"])(),l=Object(i["n"])(!1),c=Object(i["n"])(!1),a=Object(i["n"])(!0),r=Object(i["n"])(["n","e","w","s","nw","ne","sw","se"]);Object(i["i"])((function(){var e={width:600,height:400};s.value&&(n=new y(s.value,e))})),Object(i["h"])((function(){p(),console.log("unmount")}));var d=function(e){a.value&&n.onPanelSelect(e)},u=function(e){a.value&&n.onHeaderDown(e)},f=function(e,t){a.value&&n.onHandlerDown(e,t)},p=function(){o("close"),n.close()},h=function(){n.maximize(),c.value=!0,l.value=!1,a.value=!1},b=function(){n.normalize(),c.value=!1,l.value=!1,a.value=!0},m=function(){n.minimize(),c.value=!1,l.value=!0,a.value=!1};return{panelRef:s,isMaximized:c,isMinimized:l,isNormalized:a,handlers:r,onPanelSelect:d,onHandlerDown:f,onHeaderDown:u,onClose:p,onMaximize:h,onMinimize:m,onNormalize:b}}});n("af67");C.render=j,C.__scopeId="data-v-06659518";var I=C;const k=Object(i["v"])("data-v-f2b946f4");Object(i["l"])("data-v-f2b946f4");const D=Object(i["e"])("div",{id:"panel-minimize-container"},null,-1);Object(i["k"])();const _=k((e,t,n,o,s,l)=>(Object(i["j"])(),Object(i["d"])(i["b"],{to:"body"},[D])));var X=Object(i["f"])({name:"PanelMinimizeContainer"});n("c97e");X.render=_,X.__scopeId="data-v-f2b946f4";var Y=X;const N=Object(i["v"])("data-v-0af860b0");Object(i["l"])("data-v-0af860b0");const R=Object(i["e"])("div",{class:"hello"},"Hello, World !",-1),W=Object(i["e"])("p",null,"Hello, World!",-1);Object(i["k"])();const Z=N((e,t,n,o,s,l)=>(Object(i["j"])(),Object(i["d"])(i["a"],null,[R,W],64)));var L=Object(i["f"])({name:"Test"});n("6c40");L.render=Z,L.__scopeId="data-v-0af860b0";var T=L,E=Object(i["f"])({name:"App",components:{MinizeContainer:Y,Panel:I,Test:T},setup:function(){var e=Object(i["n"])([]),t=1,n=function(){var n={id:t++};e.value.push(n)},o=function(t){var n=e.value.findIndex((function(e){return e.id===t}));-1!==n&&e.value.splice(n,1)};return{panels:e,AddPanel:n,handleClose:o}}});n("337f");E.render=o;var $=E,q=n("5502"),A=Object(q["a"])({state:{},mutations:{},actions:{},modules:{}}),U=(n("50ce"),Object(i["c"])($)),B={install:function(){U.component("Panel",I);var e=document.createElement("div");document.body.appendChild(e),Object(i["c"])(Y).mount(e).$nextTick((function(){document.body.removeChild(e)}))}};U.use(A).use(B).mount("#app")}});